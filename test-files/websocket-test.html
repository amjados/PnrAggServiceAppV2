<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PNR WebSocket Test Client</title>
    <link rel="stylesheet" href="websocket-test.css">
</head>

<body>
    <div class="container">
        <h1>ðŸ”Œ PNR WebSocket Test Client</h1>

        <div class="split-container">
            <div class="left-panel">
                <div class="api-controls">
                    <h3>Test API Request:</h3>
                    <label>Fetch by PNR:</label>
                    <input type="text" id="apiUrlByPNR" value="http://localhost:8080/booking/GHR001"
                        placeholder="Enter full API URL" />
                    <button onclick="fetchBooking('apiUrlByPNR')">Fetch by PNR</button>
                    <small style="color: #666; margin-left: 10px;">Try: <I>GHR001</I>, GHTW42, ABC123, XYZ789, DEF456,
                        GHR001, GHR002</small>
                    <br />


                    <label>Fetch by Customer ID <span class="v1-badge">V1</span>:</label>
                    <input type="text" id="apiUrlByCustomerId" value="http://localhost:8080/booking/customer/1099"
                        placeholder="Enter full API URL" />
                    <button onclick="fetchBooking('apiUrlByCustomerId')">Fetch by Customer ID (V1)</button>
                    <small style="color: #666; margin-left: 10px;">Try: <I>1099</I>, 5678, 9012, 1022, 1023, 1031,
                        1032</small>
                    <br />

                    <label>Fetch by Customer ID <span class="v2-badge">V2 - Optimized</span>:</label>
                    <input type="text" id="apiUrlByCustomerIdV2" value="http://localhost:8080/booking/customer/v2/1216"
                        placeholder="Enter full API URL" />
                    <button onclick="fetchBooking('apiUrlByCustomerIdV2')">Fetch by Customer ID (V2)</button>
                    <small style="color: #666; margin-left: 10px;">Try: <I>1216</I>, 1217, 5678, 9012, 1099</small>

                    <div id="apiResult" class="result-box"></div>
                </div>
            </div>

            <div class="right-panel">
                <div class="controls">
                    <h3>WebSocket Connection:</h3>
                    <label>WebSocket URL:</label>
                    <input type="text" id="wsUrl" value="ws://localhost:8080/ws/pnr" />

                    <div style="margin-top: 15px;">
                        <button id="connectBtn" onclick="connect()">Connect</button>
                        <button id="disconnectBtn" onclick="disconnect()" disabled>Disconnect</button>
                        <button onclick="clearMessages()">Clear Messages</button>
                    </div>
                </div>

                <div id="status" class="status disconnected">Disconnected</div>

                <h3>Messages:</h3>
                <div id="messages" class="messages"></div>
            </div>
        </div>
    </div>

    <script src="websocket-test.js"></script>
</body>

</html>